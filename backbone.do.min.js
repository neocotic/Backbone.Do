/*! Backbone.Do v0.1.0 | (c) 2013 Alasdair Mercer | MIT License */
!function(a,b){"use strict";"object"==typeof exports?module.exports=b(require("underscore"),require("Backbone"),a):"function"==typeof define&&define.amd?define(["underscore","backbone"],function(c,d){return b(c,d,a)}):b(a._,a.Backbone,a)}(this,function(a,b,c){"use strict";function d(b){var c=a.result(b,"attrs");return a.isString(c)?c.split(/\s+/):c}function e(b,c,e,f){f=a.extend({},c.options,f);var h=a.union(d(c),d(f));f.data=a.isEmpty(h)?a.extend({},a.result(c,"data"),a.result(f,"data")):b.pick(h);var i=a.result(b,"url"),j=a.result(c,"url")||g.parseName(e),k="/"===i[i.length-1]?"":"/";return f.url=i+k+encodeURIComponent(j),f}function f(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b),a.trigger("error",a,d,b)}}a=void 0===a?c._:a,b=void 0===b?c.Backbone:b;var g=b.Do=function(b){var c=a.result(b,"actions");return a.each(c,function(a,c){b[c]=function(d){return g.perform(b,a,c,d)}}),g};g.defaultMethod="GET",g.VERSION="0.1.0";var h={POST:"create",PUT:"update",PATCH:"patch",DELETE:"delete",GET:"read"};g.parseName=function(a){return a},g.perform=function(b,c,d,i){i=e(b,c,d,i);var j=b.attributes;a.isUndefined(i.parse)&&(i.parse=!0);var k=i.success;i.success=function(c){b.attributes=j;var e=b.parse(c,i);return a.isObject(e)&&!b.set(e,i)?!1:(k&&k(b,c,i),b.trigger("action:"+d,b,c,i),b.trigger("action",d,b,c,i),void 0)},f(b,i);var l=i.method&&i.method.toUpperCase(),m=h[l]||h[g.defaultMethod];return b.sync(m,b,i)}});
/*
//@ sourceMappingURL=backbone.do.min.map
*/
/*! Backbone.Do v0.1.0alpha | (c) 2013 Alasdair Mercer | MIT License */
!function(a,b){"use strict";"object"==typeof exports?module.exports=b(require("underscore"),require("Backbone"),a):"function"==typeof define&&define.amd?define(["underscore","backbone"],function(c,d){return b(c,d,a)}):b(a._,a.Backbone,a)}(this,function(a,b,c){"use strict";function d(b){var c=a.result(b,"attrs");return a.isString(c)?c.split(/\s+/):c}function e(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b),a.trigger("error",a,d,b)}}a=void 0===a?c._:a,b=void 0===b?c.Backbone:b;var f=b.Do=function(b){var c=a.result(b,"actions");return a.each(c,function(a,c){b[c]=function(d){return f._perform(b,a,c,d)}}),f};f.defaultMethod="GET",f.VERSION="0.1.0alpha";var g={POST:"create",PUT:"update",PATCH:"patch",DELETE:"delete",GET:"read"};f.parseName=function(a){return a},f._getOptions=function(b,c,e,g){g=a.extend({},c.options,g);var h=a.union(d(c),d(g));g.data=a.isEmpty(h)?a.extend({},a.result(c,"data"),a.result(g,"data")):b.pick(h);var i=a.result(b,"url"),j=a.result(c,"url")||f.parseName(e),k="/"===i[i.length-1]?"":"/";return g.url=i+k+encodeURIComponent(j),g},f._perform=function(b,c,d,h){h=f._getOptions(b,c,d,h);var i=b.attributes;a.isUndefined(h.parse)&&(h.parse=!0);var j=h.success;h.success=function(c){b.attributes=i;var e=b.parse(c,h);return a.isObject(e)&&!b.set(e,h)?!1:(j&&j(b,c,h),b.trigger("action:"+d,b,c,h),b.trigger("action",d,b,c,h),void 0)},e(b,h);var k=h.method&&h.method.toUpperCase(),l=g[k]||g[f.defaultMethod];return b.sync(l,b,h)}});
/*
//@ sourceMappingURL=backbone.do.min.map
*/